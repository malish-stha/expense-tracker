/// <reference types="passport" />
import express from 'express';
import { ExecutionParams } from 'subscriptions-transport-ws';
import { AuthenticateReturn } from './types';
export interface CommonRequest<UserObjectType extends Express.User> extends Pick<Context<UserObjectType>, 'isAuthenticated' | 'isUnauthenticated'> {
    user?: UserObjectType;
}
export interface Context<UserObjectType extends Express.User> {
    isAuthenticated: () => boolean;
    isUnauthenticated: () => boolean;
    getUser: () => UserObjectType;
    authenticate: (strategyName: string, options?: object) => Promise<AuthenticateReturn<UserObjectType>>;
    login: (user: UserObjectType, options?: object) => Promise<void>;
    logout: (options?: object) => Promise<void>;
    res?: express.Response;
    req: CommonRequest<UserObjectType>;
}
export interface ContextParams {
    req: express.Request;
    res: express.Response;
    connection?: ExecutionParams;
    payload?: unknown;
}
declare const buildContext: <UserObjectType extends Express.User, R extends ContextParams = ContextParams>(contextParams: R) => Context<UserObjectType>;
export default buildContext;
